<table class="table table-sm text-white w-full">
    <thead class="bg-[#020617]">
        <tr>
            <th class="w-10"><input type="checkbox" id="select-all"></th>
            <th>
                <a href="?tipo={{ tipo_actual }}&q={{ q }}&order={% if order == 'docente' %}-{% endif %}docente" class="order-link flex items-center gap-1">
                    Docente
                    {% if order == 'docente' %}
                        <i data-lucide="arrow-up" class="w-3 h-3"></i>
                    {% elif order == '-docente' %}
                        <i data-lucide="arrow-down" class="w-3 h-3"></i>
                    {% endif %}
                </a>
            </th>
            <th>
                <a href="?tipo={{ tipo_actual }}&q={{ q }}&order={% if order == 'catedra' %}-{% endif %}catedra" class="order-link flex items-center gap-1">
                    CÃ¡tedra
                    {% if order == 'catedra' %}
                        <i data-lucide="arrow-up" class="w-3 h-3"></i>
                    {% elif order == '-catedra' %}
                        <i data-lucide="arrow-down" class="w-3 h-3"></i>
                    {% endif %}
                </a>
            </th>
            <th>
                <a href="?tipo={{ tipo_actual }}&q={{ q }}&order={% if order == 'aula' %}-{% endif %}aula" class="order-link flex items-center gap-1">
                    Aula
                    {% if order == 'aula' %}
                        <i data-lucide="arrow-up" class="w-3 h-3"></i>
                    {% elif order == '-aula' %}
                        <i data-lucide="arrow-down" class="w-3 h-3"></i>
                    {% endif %}
                </a>
            </th>
            <th>
                <a href="?tipo={{ tipo_actual }}&q={{ q }}&order={% if order == 'fecha' %}-{% endif %}fecha" class="order-link flex items-center gap-1">
                    Fecha
                    {% if order == 'fecha' %}
                        <i data-lucide="arrow-up" class="w-3 h-3"></i>
                    {% elif order == '-fecha' %}
                        <i data-lucide="arrow-down" class="w-3 h-3"></i>
                    {% endif %}
                </a>
            </th>
            <th>
                <a href="?tipo={{ tipo_actual }}&q={{ q }}&order={% if order == 'hora_inicio' %}-{% endif %}hora_inicio" class="order-link flex items-center gap-1">
                    Hora inicio
                    {% if order == 'hora_inicio' %}
                        <i data-lucide="arrow-up" class="w-3 h-3"></i>
                    {% elif order == '-hora_inicio' %}
                        <i data-lucide="arrow-down" class="w-3 h-3"></i>
                    {% endif %}
                </a>
            </th>
            <th>
                <a href="?tipo={{ tipo_actual }}&q={{ q }}&order={% if order == 'hora_fin' %}-{% endif %}hora_fin" class="order-link flex items-center gap-1">
                    Hora fin
                    {% if order == 'hora_fin' %}
                        <i data-lucide="arrow-up" class="w-3 h-3"></i>
                    {% elif order == '-hora_fin' %}
                        <i data-lucide="arrow-down" class="w-3 h-3"></i>
                    {% endif %}
                </a>
            </th>
            <th>Tipo</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for r in reservas %}
        <tr data-id="{{ r.id }}" 
            data-catedra-id="{{ r.catedra.id }}"
            data-aula-id="{{ r.aula.id }}"
            class="hover:bg-white/5 transition">
            <td><input type="checkbox" class="select-row checkbox checkbox-sm"></td>
            <td class="editable" data-field="docente">{{ r.docente }}</td>
            <td class="editable" data-field="catedra" data-id="{{ r.catedra.id }}">{{ r.catedra.nombre }}</td>
            <td class="editable" data-field="aula" data-id="{{ r.aula.id }}">{{ r.aula.numero }}</td>
            <td class="editable" data-field="fecha">{{ r.fecha|date:"Y-m-d" }}</td>
            <td class="editable" data-field="hora_inicio">{{ r.hora_inicio|time:"H:i" }}</td>
            <td class="editable" data-field="hora_fin">{{ r.hora_fin|time:"H:i" }}</td>
            <td data-field="tipo">
                {% if r.tipo == 'ocasional' %}
                    <span class="badge badge-success badge-sm gap-1">
                        <i data-lucide="check-circle" class="w-3 h-3"></i>
                        Ocasional
                    </span>
                {% else %}
                    <span class="badge badge-info badge-sm gap-1">
                        <i data-lucide="calendar" class="w-3 h-3"></i>
                        Semestral
                    </span>
                {% endif %}
            </td>
            <td class="flex gap-2">
                <button class="btn-editar btn btn-xs btn-outline hover:bg-blue-500/10 hover:border-blue-500 hover:text-blue-400 transition-all" title="Editar">
                    <i data-lucide="pencil" class="w-3.5 h-3.5"></i>
                </button>
                <button class="btn-eliminar btn btn-xs btn-error btn-outline hover:bg-red-500/10 transition-all" title="Eliminar">
                    <i data-lucide="trash-2" class="w-3.5 h-3.5"></i>
                </button>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="9" class="text-center text-gray-400 py-6">
                No hay reservas registradas
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>