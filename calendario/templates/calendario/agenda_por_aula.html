{% extends "base.html" %}
{% load static %}

{% block title %}Agenda por Aula{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto p-6 space-y-6">

    <!-- TÃTULO -->
    <h1 class="text-3xl font-bold text-white">Calendario - Agenda por Aula</h1>
    <p class="text-gray-400">Selecciona el aula y la fecha para ver la agenda diaria</p>

    <!-- FILTROS -->
    <div class="flex flex-wrap gap-4 items-end mt-4">
        <div>
            <label class="label text-gray-300">Aula</label>
            <select id="select-aula" class="select select-bordered w-48 bg-[#0f172a] text-white border-white/10">
                <option value="">Selecciona un aula</option>
                <option value="1">Aula 101</option>
                <option value="2">Aula 102</option>
            </select>
        </div>

        <div>
            <label class="label text-gray-300">Fecha</label>
            <input type="date" id="fecha" class="input input-bordered bg-[#0f172a] text-white border-white/10 w-48">
        </div>

        <button id="btn-filtrar" class="btn btn-primary">Filtrar</button>
    </div>

    <!-- BLOQUE DE AGENDA DIARIA -->
    <div class="flex border border-white/10 mt-6 h-[900px] overflow-y-hidden rounded-2xl bg-[#1e293b] relative">
        
        <!-- HORAS -->
        <div id="col-horas" class="w-20 border-r border-white/10 text-gray-400 text-sm relative"></div>
        
        <!-- RESERVAS -->
        <div id="col-reservas" class="flex-1 relative bg-[#0f172a]"></div>

    </div>

</div>

<script src="{% static 'calendario/agenda_por_aula.js' %}"></script>

<style>
/* Cada hora ocupa 60px */
.hora {
    height: 60px;
    line-height: 60px;
    border-bottom: 1px solid #444;
    padding-right: 20px;
    text-align: right;
    box-sizing: border-box;
}

/* Bloques de reservas */
.reserva {
    position: absolute;
    left: 10px;
    right: 10px;
    padding: 6px;
    border-radius: 6px;
    color: white;
    font-size: 12px;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.reserva.semestral { background-color: #3b82f6; } /* azul */
.reserva.ocasional { background-color: #16a34a; } /* verde */
</style>
{% endblock %}